/*Copyright 2013 Lcf.vs - Released under the MIT license - https://github.com/Lcfvs/PES.js*/var PES;(function(){"use strict";var e,t,n,r,i,s,o,u;e=function(){this.encrypt=i;this.decrypt=s};t={"utf-8":65536};n=function a(e){var t,n,r;t=0;n=[];r=e.length;try{while(t<r){n.push(e.charCodeAt(t));t+=1}}catch(i){n=n.concat(a(e.substring(t)))}return n};r=function(e,i,s,u){var a,f,l;if(e.length===0){throw new Error("Invalid encryption key length")}a=u||"";try{while(a.length<i){f=n(e);l=n(a||e);o(f,l,t[s],f.length-1,0);a+=String.fromCharCode.apply(null,f)}}catch(c){a+=r(e,i,s,a)}if(u===undefined){f=n(e);l=n(a);o(f,l,t[s],f.length-1,0);a+=String.fromCharCode.apply(null,f)}return a};i=function(i,s,u){var a,f;a=n(i);f=n(r(s,a.length,u));o(a,f,t[u],a.length-1,0);return String.fromCharCode.apply(null,a)};s=function(i,s,o){var a,f;a=n(i);f=n(r(s,a.length,o));u(a,f,t[o],0,f.length-1);return String.fromCharCode.apply(null,a)};o=function f(e,t,n,r,i){var s,o,u,a,l;s=e.length-1;o=t.length;a=t[i];try{while(i<o){if(r===s){if((Math.min.apply(null,e)^Math.max.apply(null,e)^a^n)&1){e.reverse()}}u=e[r];l=r!==0?e[r-1]:a;e[r]=l+u^a;if(e[r]>=n){e[r]-=n}if(r===0){r=s;i+=1;a=t[i]}else{r-=1}}}catch(c){f(e,t,n,r,i)}return e};u=function l(e,t,n,r,i){var s,o,u,a;s=e.length-1;u=t[i];try{while(i>-1){o=e[r];a=r!==0?e[r-1]:u;e[r]=(e[r]^u)-a;if(e[r]<0){e[r]+=n}if(r===s){if((Math.min.apply(null,e)^Math.max.apply(null,e)^u^n)&1){e.reverse()}r=0;i-=1;u=t[i]}else{r+=1}}}catch(f){l(e,t,n,r,i)}return e};self.PES=new e})()